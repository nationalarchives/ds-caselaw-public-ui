{% macro button(href=None, variant=None, size=None, contrast=None, element_type="button", attrs={}) %}
  {% set variant_classes = {"default": "", "secondary": "button--secondary", "underline": "button--underline", "link": "button--link"} %}
  {% set size_classes = {"default": "", "small": "button--small"} %}
  {% set variant_class = variant_classes.get(variant, variant_classes['default']) %}
  {% set size_class = size_classes.get(size, size_classes['default']) %}
  {% if contrast %}
    {% if variant and variant_class %}
      {% set contrast_class = variant_class ~ '-contrast' %}
    {% else %}
      {% set contrast_class = "button--contrast" %}
    {% endif %}
  {% else %}
    {% set contrast_class = variant_class %}
  {% endif %}
  {% set button_class = ('button ' ~ contrast_class ~ ' ' ~ size_class).strip() %}
  {% if element_type == "input" %}
    <input class="{{ button_class }}"
           {% for key, value in attrs.items() %}{{ key }}="{{ value }}"{% endfor %} />
  {% else %}
    {% if href %}
      <a href="{{ href }}"
         class="{{ button_class }}"
         {% for key, value in attrs.items() %}{{ key }}="{{ value }}"{% endfor %}>
      {% else %}
        <button class="{{ button_class }}"
                {% for key, value in attrs.items() %}{{ key }}="{{ value }}"{% endfor %}>
        {% endif %}
        {{ caller() }}
        {% if href %}
        </a>
      {% else %}
      </button>
    {% endif %}
  {% endif %}
{% endmacro %}
{% macro button_variant_examples() %}
  {% call button() %}
    Primary button
  {% endcall %}
  {% call button(variant="secondary") %}
    Secondary button
  {% endcall %}
  {% call button(variant="underline") %}
    Underline button
  {% endcall %}
  {% call button(variant="link") %}
    Link button
  {% endcall %}
{% endmacro %}
{% macro button_size_examples() %}
  {% call button(size="small") %}
    Small primary button
  {% endcall %}
  {% call button(variant="secondary", size="small") %}
    Small secondary button
  {% endcall %}
  {% call button(variant="underline", size="small") %}
    Small underline button
  {% endcall %}
  {% call button(variant="link", size="small") %}
    Small link button
  {% endcall %}
{% endmacro %}
{% macro button_contrast_examples() %}
  {% call button(contrast=True) %}
    Primary button
  {% endcall %}
  {% call button(variant="secondary", contrast=True) %}
    Secondary button
  {% endcall %}
  {% call button(variant="underline", contrast=True) %}
    Underline button
  {% endcall %}
{% endmacro %}
{% macro button_href_examples() %}
  {% call button(href=url("components")) %}
    Primary
  {% endcall %}
{% endmacro %}
