{% extends "layouts/base.jinja" %}
{% from "components/content_container.jinja" import content_container %}
{% from "components/button.jinja" import button %}
{% from "components/icon.jinja" import icon %}
{% from "components/hero.jinja" import hero %}
{% from "components/alert.jinja" import alert %}
{% from "components/tag.jinja" import tag, tag_container %}
{% from "components/search_input.jinja" import search_form, search_form_container, search_input, search_input_actions %}
{% block title %}
  Advanced search - Find Case Law
{% endblock title %}
{% block content %}
  <div class="js-results-facets-wrapper">
    {% call hero() %}
      {% call search_form_container() %}
        {% call search_form(label="Search by keyword or neutral citation", id="analytics-search-form") %}
          {% call heading() %}
            Advanced search
          {% endcall %}
          {{ search_input(value=query, label="Search by keyword or neutral citation", placeholder="Input your search term...", button_action=url("search") , button_label="Search") }}
          <a href="{{ url('how_to_search_find_case_law') }}">How to search</a>
        {% endcall %}
      {% endcall %}
    {% endcall %}
    {% call content_container() %}
      {% if form.errors %}
        {% call alert(variant="error") %}
          {{ form.errors|error_messages }}
        {% endcall %}
      {% endif %}
      <div class="structured-search">
        {% call search_form(id="analytics-results-filters") %}
          {% include "includes/results_filters_inputs.jinja" %}
        {% endcall %}
      </div>
    {% endcall %}
  </div>
{% endblock content %}
{% block javascript %}
  <script type="module" defer src="{{ static('js/dist/manage_filters.js')}}"></script>
{% endblock javascript %}
